---
title: Installing Shoko Server
sidebar:
  order: 1
Description: Instructions on how to install Shoko Server.
---

import { Steps } from '@astrojs/starlight/components';
import DockerCompose from "../../../components/DockerCompose/DockerCompose";

The installation process for Shoko depends on the platform you're using. We strongly recommend following the provided
guide without deviations unless you're confident in what you're doing.

If your platform isn't listed in the navigation menu on the right, it doesn't necessarily mean that Shoko is
unsupported. It may simply indicate that a guide hasn't been written yet for your specific platform.

## Windows

Windows users have the simplest process. Start by visiting the [Shoko Downloads](https://shokoanime.com/downloads/) page and download Shoko Server.
Unless instructed otherwise, choose the Stable version. Once the download is complete, run the installer and
follow the on-screen instructions. The installation should only take a few minutes.

:::caution
We do not recommend using Docker on Windows with WSL or Hyper-V containers. This setup introduces an unnecessary
abstraction layer that may cause unforeseen issues. If you choose to proceed, you do so at your own risk, as we
cannot provide support for this configuration.
:::

## Linux

Follow the instructions below to run Shoko on Linux using Docker. This is the preferred method for Linux and NAS
systems that support Docker. Running Shoko bare metal on Linux is not recommended due the additional work and skill
level required to properly install.

Ensure Docker is installed before proceeding. For most users, installing Docker through their package manager is
recommended, as this ensures you stay up-to-date with the latest updates and security patches. You can find the
installation procedure for your distribution of the Docker Community Edition on the [Docker](https://docs.docker.com/install/) homepage.


## Docker Compose (Recommended)

Docker Compose is automatically included with all recent versions of Docker, so its availability shouldn't be a
concern. However, if you encounter issues or are unsure, please refer to your NAS manual or the vendor's website
for confirmation.

It's important to note that Docker Compose is the **recommended method** for installing Shoko with Docker as it
simplifies service management. We've provided a sample docker-compose.yml file below to streamline the configuration
process. This file consolidates all the settings, making them easy to edit.

If you need to adjust the configuration to suit your setup, feel free to use the **Docker Compose Builder** below to
modify the values according to your preferences. Otherwise, simply copy the generated config.

### Docker Compose Builder

<DockerCompose client:only="react" />

## Docker (QNAP NAS)

Ensure that Docker is installed on your QNAP NAS before proceeding. You can find this package in the App Center,
listed under the name **Container Station**.

:::tip
Users have reported that managing containers with Container Station can sometimes be challenging. If you encounter
similar issues, we recommend creating the container using the Docker Compose instructions provided above.
:::

You can modify certain settings, like autostart, for the container later using the Container Station GUI.
Alternatively, you can use **Portainer**, which also allows you to manage the Docker Compose setup in a Stack through
an easy-to-use web GUI.

If you have any questions about using Portainer or Docker Compose on your QNAP NAS, feel
free to reach out to the community on our Discord Server.

### Regarding Container Station v3

As of this writing, the current version is 3.0.4.533, which was released with QTS 5.1.0.2466. If you're using an
older version of QTS or QTS hero (the ZFS variant of QTS), the available version and experience with Container Station
may differ significantly. We always recommend keeping your QNAP QTS and App Center updates current for the best
experience and security.

## Docker (Synology NAS)

Ensure that the [Synology Docker Application](https://www.synology.com/en-global/dsm/packages/Docker) is installed on your Synology NAS before proceeding. You can find
this package in the Package Center, under the **Third-party** section.

:::tip
Since managing containers with the Synology Docker Application can feel a bit clunky, we recommend creating the
container using the instructions provided under Docker Compose above.
:::

If you prefer to use the Synology Docker Application, follow these steps:

<Steps>
1. Open Docker from the Application Menu and navigate to the Containers tab.
2. Download the [Synology Container File](/files/synology-dockerfile.json).
3. Replace the ``PUID``, ``PGID``, and ``/path/to/anime`` in the file with your specific values.
4. Once you've made these changes, go to Settings, select Import, and choose the file you've just modified.
5. Name the container ShokoServer, then apply the settings.
</Steps>

:::caution[Daily Server and Synology NAS]
AVDump3 may crash due to the inability to modify the shm_size in the proprietary container format used by Synology.
As a result, we do not recommend running daily server on Synology NAS at this time.
:::

## TrueNAS Scale

**Install Shoko as a Custom App:**

1. Navigate to **Apps -> Discover Apps -> Custom App**.
2. **Application Name:** Choose any name you'd like.
3. **Container Images:**
   - **Image Repository:** `shokoanime/server`
   - **Image Tag:** `latest`
4. **Container Environment Variables:**
   - **Environment Variable Name:** `PUID` | **Environment Variable Value:** `568`
   - **Environment Variable Name:** `PGID` | **Environment Variable Value:** `568`
   - This sets the Shoko user to run as the `Apps` built-in user. Ensure this user has access to your media folder.
5. **Port Forwarding:**
   - **Container Port:** `8111`
   - **Node Port:** {Any free port}
6. **Storage:**
   - [Optional] **Host Path:** Path to store your Shoko config → **Mount Path:** `/home/shoko/.shoko`
     - This mounts the Shoko container's home folder to a persistent host path.
   - [Required] **Host Path:** {Your media folder} → **Mount Path:** {Your desired container media folder}.
     - This allows the Shoko server to access your media.
7. **Portal Configuration:**
   - **Enable WebUiPortal:** Checked
   - **Port:** {Node Port from step 5}
   - This lets you click on the App's Web Portal to access the Shoko Web UI and is optional.
8. **Configure Container User and Group ID:**
   - Leave this alone to run as root, or configure it to run with a user that has access to modify permissions.
   - The Docker startup script attempts to create a Shoko user and will fail to start if it can't.
9. Hit **Save** and wait for the container to change to Running status.
10. Click **Web Portal** under Application Info to begin the setup.

**Troubleshooting:**

- **Application is stuck in Deploying state:**
  - Navigate to **Workloads -> View Logs**.
- **Shoko server does not see my media folder:**
  - Check the permissions on your media folder and ensure the user specified in the Container Environment Variables has access.
